<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AetherAI - Craft Your Dreams</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* Basic Reset & Body Styling */
        :root {
            --primary-color: #8A2BE2;
            /* Amethyst */
            --secondary-color: #4B0082;
            /* Indigo */
            --accent-color: #DA70D6;
            /* Orchid */
            --text-light: #F0F8FF;
            /* AliceBlue */
            --text-dark: #333;
            --gradient-start: #DA70D6;
            /* Orchid */
            --gradient-mid: #8A2BE2;
            /* Amethyst */
            --gradient-end: #4B0082;
            /* Indigo */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            color: var(--text-light);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            /* overflow: hidden; Hide potential overflow from animations */
        }

        /* Container for the entire section */
        .landing-section {
            width: 90%;
            max-width: 1200px;
            text-align: center;
            padding: 40px 20px;
            background: rgba(0, 0, 0, 0.4);
            /* Semi-transparent overlay */
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            /* Frosted glass effect */
            -webkit-backdrop-filter: blur(10px);
            /* For Safari */
            position: relative;
            z-index: 1;
            /* Ensure content is above any background effects */
            display: flex;
            flex-direction: column;
            gap: 40px;
            /* Space between sections */
        }

        /* Header Styling */
        .header {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            font-size: 3em;
            color: var(--accent-color);
            animation: pulse 2s infinite alternate;
        }

        @keyframes pulse {
            from {
                transform: scale(1);
            }

            to {
                transform: scale(1.05);
            }
        }

        .logo-text {
            font-size: 2.5em;
            font-weight: 700;
            letter-spacing: 2px;
            color: var(--text-light);
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        /* Hero Content */
        .hero-content {
            margin-bottom: 20px;
            /* Adjusted margin for new section */
        }

        .hero-headline {
            font-size: 4.5em;
            /* Larger font for impact */
            font-weight: 700;
            margin-bottom: 20px;
            letter-spacing: -1px;
            line-height: 1.1;
            text-transform: uppercase;

            /* Gradient Text Animation Properties */
            background: linear-gradient(90deg,
                    var(--gradient-start) 0%,
                    var(--gradient-mid) 25%,
                    var(--accent-color) 50%,
                    var(--gradient-mid) 75%,
                    var(--gradient-end) 100%);
            background-size: 400% 100%;
            /* Make gradient wider than text */
            -webkit-background-clip: text;
            /* Clip background to text shape */
            background-clip: text;
            color: transparent;
            /* Make text color transparent to show background */
            animation: wavyGradient 8s ease-in-out infinite alternate;
            /* The animation */
        }

        @keyframes wavyGradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .hero-subheadline {
            font-size: 1.5em;
            font-weight: 300;
            max-width: 800px;
            margin: 0 auto 40px;
            color: rgba(255, 255, 255, 0.85);
        }

        /* Call to Action Button */
        .cta-button {
            display: inline-block;
            background: linear-gradient(45deg, var(--accent-color), var(--primary-color));
            color: var(--text-light);
            padding: 18px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-size: 1.2em;
            font-weight: 700;
            letter-spacing: 1px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transition: left 0.3s ease;
            z-index: -1;
            transform: skewX(-20deg);
        }

        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
        }

        .cta-button:hover::before {
            left: 100%;
        }

        /* Dream Weaver Section */
        .dream-weaver-section {
            background: rgba(0, 0, 0, 0.3);
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .dream-weaver-section h3 {
            font-size: 2em;
            color: var(--accent-color);
            margin-bottom: 25px;
            font-weight: 700;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
        }

        .dream-input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .dream-input {
            width: 100%;
            max-width: 600px;
            padding: 15px 20px;
            border-radius: 10px;
            border: 2px solid var(--accent-color);
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            font-size: 1.1em;
            resize: vertical;
            /* Allow vertical resizing */
            min-height: 80px;
            box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .dream-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .dream-input:focus {
            outline: none;
            border-color: var(--primary-color);
            background-color: rgba(255, 255, 255, 0.15);
            box-shadow: inset 0 0 12px rgba(0, 0, 0, 0.5), 0 0 10px var(--accent-color);
        }

        .generate-button {
            display: inline-flex;
            /* Use flex to center content */
            align-items: center;
            justify-content: center;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            color: var(--text-light);
            padding: 15px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-size: 1.1em;
            font-weight: 600;
            letter-spacing: 0.5px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            gap: 10px;
            /* Space between text and sparkle */
        }

        .generate-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.5);
        }

        .generate-button .sparkle-icon {
            font-size: 1.3em;
            animation: rotateSparkle 1.5s infinite linear;
        }

        @keyframes rotateSparkle {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .dream-output-container {
            margin-top: 30px;
            background-color: rgba(0, 0, 0, 0.2);
            padding: 25px;
            border-radius: 10px;
            min-height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: rgba(255, 255, 255, 0.9);
            font-style: italic;
            text-align: left;
            line-height: 1.8;
            font-size: 1.1em;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            /* For loading spinner */
        }

        .dream-output-container.loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .dream-output-container.loading .dream-output-text {
            opacity: 0;
            /* Hide text when loading */
        }

        @keyframes spin {
            0% {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        .dream-output-text {
            max-width: 100%;
            word-wrap: break-word;
            /* Ensure long words break */
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .landing-section {
                padding: 30px 15px;
                gap: 30px;
            }

            .header {
                margin-bottom: 20px;
            }

            .logo-icon {
                font-size: 2.5em;
            }

            .logo-text {
                font-size: 2em;
            }

            .hero-headline {
                font-size: 3em;
            }

            .hero-subheadline {
                font-size: 1.2em;
                margin-bottom: 30px;
            }

            .cta-button {
                padding: 15px 30px;
                font-size: 1em;
            }

            .dream-weaver-section {
                padding: 25px;
                margin-top: 30px;
            }

            .dream-weaver-section h3 {
                font-size: 1.8em;
                margin-bottom: 20px;
            }

            .dream-input {
                font-size: 1em;
            }

            .generate-button {
                padding: 12px 25px;
                font-size: 1em;
            }

            .dream-output-container {
                padding: 20px;
                min-height: 80px;
                font-size: 1em;
            }
        }

        @media (max-width: 480px) {
            .landing-section {
                padding: 20px 10px;
                gap: 20px;
            }

            .header {
                flex-direction: column;
                gap: 5px;
                margin-bottom: 15px;
            }

            .logo-icon {
                font-size: 2em;
            }

            .logo-text {
                font-size: 1.8em;
            }

            .hero-headline {
                font-size: 2.2em;
            }

            .hero-subheadline {
                font-size: 1em;
                margin-bottom: 25px;
            }

            .cta-button {
                padding: 12px 25px;
                font-size: 0.9em;
            }

            .dream-weaver-section {
                padding: 20px;
                margin-top: 20px;
            }

            .dream-weaver-section h3 {
                font-size: 1.5em;
                margin-bottom: 15px;
            }

            .dream-input {
                font-size: 0.9em;
                min-height: 60px;
            }

            .generate-button {
                padding: 10px 20px;
                font-size: 0.9em;
            }

            .dream-output-container {
                padding: 15px;
                min-height: 60px;
                font-size: 0.9em;
            }
        }
    </style>
</head>

<body>
    <section class="landing-section">
        <header class="header">
            <span class="logo-icon">✨</span>
            <h1 class="logo-text">AetherAI</h1>
        </header>

        <div class="hero-content">
            <h2 class="hero-headline">Craft Your Reality. Dream Your Future.</h2>
            <p class="hero-subheadline">
                AetherAI is pioneering the next frontier of human experience, enabling you to design, explore,
                and live out personalized dreamscapes powered by advanced artificial intelligence.
                Unlock the boundless potential of your subconscious.
            </p>
            <a href="#" class="cta-button">Begin Your Dream Journey</a>
        </div>

        <div class="dream-weaver-section">
            <h3>✨ Dream Weaver: Generate a Scenario ✨</h3>
            <div class="dream-input-group">
                <textarea id="dreamInput" class="dream-input"
                    placeholder="Enter a mood, keyword, or theme for your dream (e.g., 'adventure', 'peaceful forest', 'futuristic city')..."></textarea>
                <button id="generateDreamBtn" class="generate-button">
                    <span class="sparkle-icon">✨</span> Generate Dream
                </button>
            </div>
            <div id="dreamOutputContainer" class="dream-output-container">
                <p class="dream-output-text">Your AI-crafted dream scenario will appear here...</p>
            </div>
        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dreamInput = document.getElementById('dreamInput');
            const generateDreamBtn = document.getElementById('generateDreamBtn');
            const dreamOutputContainer = document.getElementById('dreamOutputContainer');
            const dreamOutputText = dreamOutputContainer.querySelector('.dream-output-text');

            // Store the initial placeholder text for the output container
            const initialOutputPlaceholder = dreamOutputText.textContent;

            generateDreamBtn.addEventListener('click', async () => {
                const userPrompt = dreamInput.value.trim();
                if (!userPrompt) {
                    dreamOutputText.textContent = "Please enter a mood or keyword to generate a dream.";
                    return; // Stop execution if prompt is empty
                }

                // Show loading indicator
                dreamOutputContainer.classList.add('loading');
                dreamOutputText.textContent = ''; // Clear previous text
                console.log("Attempting to generate dream with prompt:", userPrompt); // Added logging

                try {
                    let chatHistory = [];
                    chatHistory.push({
                        role: "user",
                        parts: [{ text: `Generate a short, vivid, and imaginative dream scenario based on the following theme/mood: "${userPrompt}". Focus on sensory details and a surreal atmosphere. Keep it concise, around 3-4 sentences.` }]
                    });

                    const payload = { contents: chatHistory };
                    const apiUrl = '/api/gemini';

                    console.log("Sending request to Gemini API:", apiUrl, payload); // Added logging

                   const response = await fetch("/api/gemini", {
                       method: "POST",
                       headers: { "Content-Type": "application/json" },
                       body: JSON.stringify({ prompt: userPrompt }),
                   });


                    console.log("Received response status:", response.status); // Added logging

                    if (!response.ok) {
                        const errorData = await response.json();
                        console.error("API call failed:", errorData); // Detailed error logging
                        throw new Error(`API error: ${response.status} ${response.statusText} - ${JSON.stringify(errorData.error ? errorData.error.message : errorData)}`);
                    }

                    const result = await response.json();
                    console.log("Received API result:", result); // Log full result

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        dreamOutputText.textContent = text;
                        console.log("Dream generated successfully."); // Success logging
                    } else {
                        dreamOutputText.textContent = "Could not generate a dream scenario. The AI response was empty or malformed. Please try a different prompt.";
                        console.error("Unexpected API response structure or empty content:", result);
                    }
                } catch (error) {
                    dreamOutputText.textContent = `Error generating dream: ${error.message}. Please check your browser's console for more details.`;
                    console.error("Error during API call or processing:", error);
                } finally {
                    // Hide loading indicator
                    dreamOutputContainer.classList.remove('loading');
                    console.log("Loading indicator removed."); // Logging
                }
            });

            // Optional: Revert to initial placeholder if input is cleared
            dreamInput.addEventListener('input', () => {
                if (dreamInput.value.trim() === '' && dreamOutputText.textContent !== initialOutputPlaceholder) {
                    dreamOutputText.textContent = initialOutputPlaceholder;
                }
            });
        });
    </script>
</body>

</html>
